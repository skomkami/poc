clearvars; close all; clc;

coins = imread('coins.png');

figure(1);
subplot(1,2,1);
imshow(coins);
subplot(1,2,2);
imhist(coins,256);

threshold = 85;

figure(2);
im2bw(coins, threshold/255);

%% 4 figura

fig = imread('figura.png');

figure(3);
subplot(1,2,1);
imshow(fig);
subplot(1,2,2);
imhist(fig,256);

%% figura2
fig2 = imread('figura2.png');
figure(4);
imhist(fig2, 256);
title('Figura 2 histogram');

%% figura3

fig3 = imread('figura3.png');
figure(5);
imhist(fig3, 256);
title('Figura 3 histogram');

%% figura4

fig4 = imread('figura4.png');
figure(6);
imhist(fig4,256);

%% metoda Otsu

thresh = graythresh(coins);
figure(7);
subplot(1,2,1);
im2bw(coins, threshold/255);
title('Własnoręcznie dobrany próg');
subplot(1,2,2);
im2bw(coins, thresh);
title('Próg dobrany metodą Otsu');

%% Kittler i Yen (coins)

threshKittler = clusterKittler(coins);
threshYen = entropyYen(coins);

figure(8);
subplot(3,2,1);
imshow(coins);
title('Obraz originalny');
subplot(3,2,2);
imhist(coins, 256);

subplot(3,2,3);
im2bw(coins, threshold/255);
title('Własnoręcznie dobrany próg');
subplot(3,2,4);
im2bw(coins, thresh);
title('Próg dobrany metodą Otsu');

subplot(3,2,5);
im2bw(coins, threshKittler/255);
title(['Próg dobrany metodą Kittlera = ' num2str(threshKittler)]);
subplot(3,2,6);
im2bw(coins, threshYen/255);
title(['Próg dobrany metodą Yen = ' num2str(threshYen)]);

%% Kittler i Yen (rice)

rice = imread('rice.png');
threshold = 165;

threshKittler = clusterKittler(rice);
threshYen = entropyYen(rice);

figure(9);
subplot(3,2,1);
imshow(rice);
title('Obraz originalny');
subplot(3,2,2);
imhist(rice, 256);

subplot(3,2,3);
im2bw(rice, threshold/255);
title('Własnoręcznie dobrany próg');
subplot(3,2,4);
im2bw(rice, thresh);
title(['Próg dobrany metodą Otsu' ]);

subplot(3,2,5);
im2bw(rice, threshKittler/255);
title(['Próg dobrany metodą Kittlera = ' num2str(threshKittler)]);
subplot(3,2,6);
im2bw(rice, threshYen/255);
title(['Próg dobrany metodą Yen = ' num2str(threshYen)]);

